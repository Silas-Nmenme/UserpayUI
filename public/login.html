<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome Back - UserPay Login</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --brand: #6a11cb;
            --brand-light: #2575fc;
            --gradient-primary: linear-gradient(135deg, var(--brand), var(--brand-light));
            --shadow-light: 0 2px 10px rgba(0,0,0,0.1);
            --shadow-medium: 0 4px 20px rgba(0,0,0,0.15);
            --shadow-heavy: 0 8px 30px rgba(0,0,0,0.2);
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }

        .navbar {
            background: rgba(255,255,255,0.95);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow-light);
            transition: all 0.3s ease;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1030;
        }

        .navbar-brand {
            font-weight: 700;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero {
            padding: 6rem 0;
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            margin-top: 80px;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="%23ffffff" opacity="0.1"/><circle cx="75" cy="75" r="1" fill="%23ffffff" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            pointer-events: none;
        }

        .feature-icon {
            font-size: 2rem;
            color: var(--brand);
            margin-bottom: 1rem;
        }

        .card {
            background: rgba(255,255,255,0.9);
            border-radius: 15px;
            box-shadow: var(--shadow-light);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: none;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-medium);
        }

        .btn {
            border-radius: 25px;
            font-weight: 600;
            transition: all 0.3s ease;
            padding: 0.75rem 2rem;
        }

        .btn-primary {
            background: var(--gradient-primary);
            border: none;
            box-shadow: var(--shadow-light);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-medium);
        }

        .btn-outline-primary {
            border-color: var(--brand);
            color: var(--brand);
        }

        .btn-outline-primary:hover {
            background: var(--gradient-primary);
            border-color: transparent;
            color: white;
        }

        .story-section {
            background: rgba(255,255,255,0.8);
            padding: 4rem 0;
            border-radius: 20px;
            margin: 2rem 0;
            box-shadow: var(--shadow-light);
        }

        .accent-blob {
            position: absolute;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            filter: blur(40px);
            opacity: 0.3;
            pointer-events: none;
            transform: translateZ(0);
        }

        .accent-blob.blob-1 {
            right: -100px;
            top: -50px;
            background: radial-gradient(circle at 30% 30%, #667eea, transparent 50%);
        }

        .accent-blob.blob-2 {
            left: -100px;
            bottom: -50px;
            background: radial-gradient(circle at 60% 60%, #f093fb, transparent 50%);
        }

        @keyframes float {
            0% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0); }
        }

        .floating {
            animation: float 6s ease-in-out infinite;
        }

        .reveal {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }

        .reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }

        footer {
            background: rgba(255,255,255,0.9);
            padding: 2rem 0;
            margin-top: 4rem;
        }

        .form-card {
            max-width: 500px;
            margin: 0 auto;
        }

        @media (max-width: 768px) {
            .hero { padding: 4rem 0; }
            .accent-blob { display: none; }
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container">
            <a class="navbar-brand" href="index.html">UserPay</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav" aria-controls="nav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="nav">
                <ul class="navbar-nav ms-auto align-items-lg-center">
                    <li class="nav-item me-3"><a class="nav-link" href="index.html#story">Our Story</a></li>
                    <li class="nav-item me-3"><a class="nav-link" href="index.html#features">Features</a></li>
                    <li class="nav-item"><a class="btn btn-outline-primary me-2" href="#login">Log in</a></li>
                    <li class="nav-item"><a class="btn btn-primary" href="register.html">Sign up</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <header class="hero">
        <div class="accent-blob blob-1"></div>
        <div class="accent-blob blob-2"></div>
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h1 class="display-4 fw-bold reveal">Welcome Back</h1>
                    <p class="lead text-muted reveal">Access your secure UserPay wallet and manage your finances with ease. Send money instantly using just usernames.</p>
                    <div class="d-flex gap-3 mt-4">
                        <a class="btn btn-primary btn-lg reveal" href="#login">Access Your Account</a>
                        <a class="btn btn-outline-primary btn-lg reveal" href="index.html#features">Explore Features</a>
                    </div>
                </div>
                <div class="col-lg-5 offset-lg-1 mt-4 mt-lg-0">
                    <div class="text-center">
                        <i class="fas fa-wallet display-1 text-primary floating"></i>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <section id="login" class="py-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-6">
                    <div class="card p-5 form-card">
                        <h2 class="text-center mb-4">Log in to Your Account</h2>
                        <form id="login-form">
                            <div class="mb-3">
                                <label class="form-label">Email</label>
                                <input type="email" class="form-control" id="login-email" placeholder="Enter your email" required>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Password</label>
                                <input type="password" class="form-control" id="login-password" placeholder="Enter your password" required>
                            </div>
                            <div class="d-grid">
                                <button class="btn btn-primary" type="submit">Log in</button>
                            </div>
                        </form>
                        <div class="text-center mt-3">
                            <a href="register.html">Don't have an account? Sign up</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="story-section">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8 text-center">
                    <h2>Manage Your Finances with Confidence</h2>
                    <p class="lead mb-4">Your UserPay account gives you complete control over your money. From instant transfers to detailed transaction tracking, everything you need is at your fingertips.</p>
                    <p>Once logged in, you can send money to anyone using just their username, view your complete transaction history, and manage your account settings securely. Our platform is designed to make financial interactions as simple as messaging a friend.</p>
                    <p>Experience the peace of mind that comes with bank-level security, real-time notifications, and 24/7 access to your funds. Whether you're splitting bills with friends or receiving payments from clients, UserPay makes it effortless.</p>
                    <p>Ready to take control of your finances? Log in now and discover why thousands trust UserPay for their money transfers.</p>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container d-flex justify-content-between align-items-center py-4">
            <div class="text-muted">Â© 2023 UserPay. All rights reserved.</div>
            <div>
                <a href="#" class="text-muted me-3">Terms of Service</a>
                <a href="#" class="text-muted me-3">Privacy Policy</a>
                <a href="#" class="text-muted">Support</a>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/axios.min.js"></script>
    <script src="js/app.js"></script>
    <script>
        // Simple reveal animation on scroll
        function revealOnScroll() {
            const reveals = document.querySelectorAll('.reveal');
            reveals.forEach(reveal => {
                const windowHeight = window.innerHeight;
                const elementTop = reveal.getBoundingClientRect().top;
                const elementVisible = 150;

                if (elementTop < windowHeight - elementVisible) {
                    reveal.classList.add('visible');
                }
            });
        }

        window.addEventListener('scroll', revealOnScroll);
        window.addEventListener('load', revealOnScroll);

        document.getElementById('login-form').addEventListener('submit', async (e)=>{
            e.preventDefault();
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            try{
                await UserPayClient.login(email, password);
                window.location.href = 'dashboard.html';
            }catch(err){
                alert(err?.message || 'Login failed. Please check your credentials.');
            }
        });
    </script>
</body>
</html>
